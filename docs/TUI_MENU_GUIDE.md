# Инструкция по управлению проектом через TUI-меню

## Обзор

UbuntuInstaller предоставляет удобное текстовое меню для управления установкой, удалением и настройкой компонентов системы. Это меню доступно через скрипт `mini-tui.sh` использует `whiptail` для создания интерактивного интерфейса.

## Запуск TUI-меню

Для запуска интерактивного меню выполните:

```bash
./mini-tui.sh
```

или

```bash
sudo ./mini-tui.sh
```

для операций, требующих прав суперпользователя.

## Основное меню

После запуска вы увидите главное меню с следующими опциями:

### 1. Установить компоненты
- Позволяет выбрать профиль системы (desktop-developer, server, wsl, auto)
- Выбрать роли (компоненты) для установки
- Настроить глобальные параметры
- Запустить процесс установки

### 2. Удалить компоненты
- Позволяет выбрать профиль системы
- Выбрать роли (компоненты) для удаления
- Подтвердить удаление с предупреждением о возможной необратимости

### 3. Обновить компоненты
- Обновляет установленные компоненты
- Использует профиль "auto" по умолчанию
- Может учитывать настройки автоматического удаления снапшотов

### 4. Сделать бекап timeshift
- Создает снапшот системы с помощью Timeshift
- Требует ввод описания для бекапа
- Может автоматически удалить снапшот при включенной опции "Удалять снапшоты после создания"

### 5. Восстановить из бекапа
- Позволяет выбрать доступный бекап для восстановления
- Подтверждает операцию с предупреждением о возможной потере данных
- Перезагружает систему после восстановления

### 6. Удалить бекап
- Позволяет выбрать конкретный бекап для удаления
- Подтверждает операцию с предупреждением об необратимости

### 7. Ручное управление снапшотами
**Новая функция!**
- Создать снапшот
- Удалить один снапшот
- Удалить все снапшоты
- Возврат в главное меню

### 8. Ручная установка
- Позволяет ввести список пакетов для установки вручную
- Требует знание команд apt и управления пакетами

### 9. Автоматическая установка
- Устанавливает все доступные роли согласно выбранному профилю
- Выполняет полную установку всех компонентов

### 10. Удаление установленных пакетов
- Позволяет ввести список пакетов для удаления вручную
- Предупреждает о возможном удалении зависимых пакетов

## Настройки

При выборе установки, удаления или обновления вам будут предложены настройки:

### Неинтерактивный режим
- Отключает дополнительные вопросы во время установки
- Полезно для автоматизации процесса

### Удалять снапшоты после создания (новая опция)
- При включении автоматически удаляет снапшоты после их создания
- Полезно для экономии дискового пространства
- Работает для всех операций создания бекапов

## Ручное управление снапшотами

Новая функция, добавленная в рамках этого обновления:

### Создать снапшот
- Запускает процесс создания бекапа через Timeshift
- Требует ввод описания
- Может автоматически удалить при включенных настройках

### Удалить один снапшот
- Позволяет выбрать конкретный снапшот для удаления
- Подтверждает операцию

### Удалить все снапшоты
- Удаляет все доступные снапшоты Timeshift
- Требует подтверждение из-за необратимости операции

## Профили систем

При установке или удалении можно выбрать один из профилей:

- **desktop-developer**: Рабочая станция разработчика
- **server**: Серверная система
- **wsl**: Windows Subsystem for Linux
- **auto**: Автоматическое определение типа системы

## Роли (компоненты)

Система разделена на роли (компоненты), которые можно устанавливать/удалять отдельно:

- 0-base-system: Базовая система
- 10-dev-tools: Инструменты разработки
- 20-docker: Docker
- 30-secure-default: Безопасные настройки по умолчанию
- 40-snap-apps: Snap-приложения
- 50-dev-pack: Пакет разработчика
- 60-samsung-printer: Драйверы Samsung принтера
- 70-zerotier-client: Клиент Zerotier
- 80-virtualbox: VirtualBox
- 95-user-config: Конфигурация пользователя

## Переменные ролей

Некоторые роли имеют специфические настройки:

### 70-zerotier-client
- Network ID: Идентификатор сети Zerotier

### 10-dev-tools
- Установить Visual Studio Code
- Установить PyCharm Community Edition

## Рекомендации по использованию

1. **Перед установкой** всегда создавайте бекап с помощью Timeshift
2. **При тестировании** используйте неинтерактивный режим для ускорения процесса
3. **Для экономии места** включайте опцию автоматического удаления снапшотов
4. **При работе с важными данными** используйте ручное управление снапшотами
5. **При проблемах с установкой** используйте ручную установку для пошаговой диагностики

## Решение проблем

### Timeshift не установлен
Если появляется сообщение "Timeshift не установлен", выполните:
```bash
sudo apt install timeshift
```

### Недостаточно прав
Некоторые операции требуют прав суперпользователя. Убедитесь, что вы запускаете скрипт с `sudo`.

### Ошибка при установке
Проверьте логи в `/var/log/ubuntuInstaller/` или используйте ручной режим установки для диагностики.