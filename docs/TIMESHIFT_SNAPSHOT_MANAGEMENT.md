# Управление снапшотами Timeshift

## Что означает "удалять снапшоты после создания"?

Опция "Удалять снапшоты после создания" (или "автоматическое удаление снапшотов") позволяет настроить систему так, чтобы она автоматически удаляла созданные снапшоты Timeshift сразу после их создания. Это может быть полезно в следующих случаях:

### 1. Экономия дискового пространства
- Снапшоты занимают значительное количество места на диске
- При автоматическом удалении снапшотов вы освобождаете место сразу после создания резервной копии
- Это особенно полезно при частых операциях установки/обновления

### 2. Временные бекапы
- Иногда требуется создать бекап перед выполнением операции, но не сохранять его постоянно
- Автоматическое удаление позволяет использовать снапшот как "временную точку восстановления"
- После успешного завершения операции снапшот больше не нужен

### 3. Тестирование
- При тестировании установки/обновления удобно создавать снапшоты, но не оставлять их в системе
- Автоматическое удаление позволяет тестировать без накопления лишних бекапов

## Как работает автоматическое удаление

### В интерактивном режиме (mini-tui.sh)
- При выборе опции "Удалять снапшоты после создания" в настройках
- Снапшот создается как обычно через Timeshift
- После успешного создания снапшота система автоматически удаляет его
- В логах будет запись: "Удаление снапшота согласно настройкам автоматического удаления"

### В автоматическом режиме (при установке/обновлении)
- При выполнении установки, обновления или удаления компонентов
- Если в конфигурации установлена опция `UBUNTU_INSTALLER_REMOVE_SNAPSHOTS=true`
- Снапшоты, созданные перед критическими операциями, автоматически удаляются после завершения

## Ручное управление снапшотами

В новом меню "Ручное управление снапшотами" вы можете:
- Создать снапшот вручную
- Удалить один конкретный снапшот
- Удалить все снапшоты сразу
- Это дает полный контроль над бекапами

## Рекомендации по использованию

### Использовать автоматическое удаление:
- При тестировании установок
- Если у вас ограниченное дисковое пространство
- Для временных операций, где бекап нужен, но хранить его не обязательно

### Не использовать автоматическое удаление:
- При важных установках, где бекап может понадобиться
- Если вы хотите иметь историю изменений системы
- При работе с критически важными данными

## Важно

- Автоматическое удаление срабатывает только после успешного создания снапшота
- Если создание снапшота не удалось, он не будет удален (естественно)
- Вы всегда можете вручную создать снапшот без автоматического удаления через меню